[2025-12-23 19:10:14] INFO     - shared.logging_utils - [logging_utils.py:120] - Logging initialized for module: seed_installer
[2025-12-23 19:10:14] INFO     - shared.logging_utils - [logging_utils.py:121] - Log level: INFO (console), DEBUG (file)
[2025-12-23 19:10:14] INFO     - shared.logging_utils - [logging_utils.py:123] - Log file: logs/seed_installer_20251223_191014.log
[2025-12-23 19:10:14] INFO     - shared.logging_utils - [logging_utils.py:124] - Error log file: logs/seed_installer_errors_20251223_191014.log
[2025-12-23 19:10:14] INFO     - __main__ - [seed_cli.py:97] - Using shared logging utilities
[2025-12-23 19:10:14] INFO     - __main__ - [seed_cli.py:760] - NoSlop Seed Installer started
[2025-12-23 19:10:14] INFO     - __main__ - [seed_cli.py:761] - Log file: logs/seed_installer_20251223_191014.log
[2025-12-23 19:10:14] DEBUG    - __main__ - [seed_cli.py:762] - Command line arguments: Namespace(single_device=False, network=None, ips=None, skip_scan=False, log_level='INFO', output_dir=None, start=False, stop=False, restart=False, status=False, uninstall=False, deployment_id=None)
[2025-12-23 19:10:14] INFO     - seed.hardware_detector - [hardware_detector.py:39] - Hardware detector initialized for BigBOY
[2025-12-23 19:10:14] INFO     - seed.network_scanner - [network_scanner.py:44] - Network scanner initialized with 2s timeout
[2025-12-23 19:10:14] INFO     - seed.role_assigner - [role_assigner.py:34] - Role assigner initialized
[2025-12-23 19:10:14] INFO     - seed.ssh_manager - [ssh_manager.py:61] - SSH manager initialized. Key directory: /home/tom/.noslop/ssh
[2025-12-23 19:10:14] INFO     - seed.storage_manager - [storage_manager.py:76] - === NoSlop Shared Storage Configuration ===
[2025-12-23 19:10:38] INFO     - seed.storage_manager - [storage_manager.py:106] - Storage configured with base path: /media/tom/fast/NoSlop
[2025-12-23 19:10:38] INFO     - seed.hardware_detector - [hardware_detector.py:48] - Starting hardware detection...
[2025-12-23 19:10:38] INFO     - seed.hardware_detector - [hardware_detector.py:73] - Hardware detection complete. Score: 58.17
[2025-12-23 19:10:52] INFO     - seed.network_scanner - [network_scanner.py:62] - Detected local network: 192.168.0.0/24
[2025-12-23 19:10:52] INFO     - seed.network_scanner - [network_scanner.py:167] - Scanning network 192.168.0.0/24 for SSH-enabled devices...
[2025-12-23 19:10:52] INFO     - seed.network_scanner - [network_scanner.py:168] - This may take a few minutes depending on network size
[2025-12-23 19:10:52] INFO     - seed.network_scanner - [network_scanner.py:141] - Discovered device: 192.168.0.22 (BigBOY.lan) - 0.6ms
[2025-12-23 19:10:52] INFO     - seed.network_scanner - [network_scanner.py:141] - Discovered device: 192.168.0.24 (2014.lan) - 4.4ms
[2025-12-23 19:10:52] INFO     - seed.network_scanner - [network_scanner.py:141] - Discovered device: 192.168.0.29 (routi.lan) - 2.3ms
[2025-12-23 19:10:52] INFO     - seed.network_scanner - [network_scanner.py:191] - [1/254] Found: 192.168.0.22
[2025-12-23 19:10:52] INFO     - seed.network_scanner - [network_scanner.py:191] - [2/254] Found: 192.168.0.29
[2025-12-23 19:10:52] INFO     - seed.network_scanner - [network_scanner.py:191] - [3/254] Found: 192.168.0.24
[2025-12-23 19:10:52] INFO     - seed.network_scanner - [network_scanner.py:141] - Discovered device: 192.168.0.30 (tomsbot.lan) - 61.6ms
[2025-12-23 19:10:52] INFO     - seed.network_scanner - [network_scanner.py:191] - [6/254] Found: 192.168.0.30
[2025-12-23 19:10:52] INFO     - seed.network_scanner - [network_scanner.py:141] - Discovered device: 192.168.0.15 (lenovo.lan) - 173.2ms
[2025-12-23 19:10:52] INFO     - seed.network_scanner - [network_scanner.py:191] - [7/254] Found: 192.168.0.15
[2025-12-23 19:11:02] INFO     - seed.network_scanner - [network_scanner.py:198] - Scan complete. Found 5 SSH-enabled device(s)
[2025-12-23 19:11:11] INFO     - seed.hardware_detector - [hardware_detector.py:647] - Starting remote hardware detection for 192.168.0.24...
[2025-12-23 19:11:12] INFO     - seed.hardware_detector - [hardware_detector.py:667] - Detected OS: linux
[2025-12-23 19:11:12] INFO     - seed.hardware_detector - [hardware_detector.py:738] - Detecting Linux hardware...
[2025-12-23 19:11:12] WARNING  - seed.ssh_manager - [ssh_manager.py:412] - Command failed (exit 1): which nvidia-smi
[2025-12-23 19:11:12] WARNING  - seed.ssh_manager - [ssh_manager.py:412] - Command failed (exit 1): which rocm-smi
[2025-12-23 19:11:13] INFO     - seed.hardware_detector - [hardware_detector.py:866] - Remote Linux detection complete. Score: 21.94
[2025-12-23 19:11:21] INFO     - seed.hardware_detector - [hardware_detector.py:647] - Starting remote hardware detection for 192.168.0.30...
[2025-12-23 19:11:21] INFO     - seed.hardware_detector - [hardware_detector.py:667] - Detected OS: linux
[2025-12-23 19:11:21] INFO     - seed.hardware_detector - [hardware_detector.py:738] - Detecting Linux hardware...
[2025-12-23 19:11:23] INFO     - seed.hardware_detector - [hardware_detector.py:866] - Remote Linux detection complete. Score: 37.7
[2025-12-23 19:11:32] INFO     - seed.hardware_detector - [hardware_detector.py:647] - Starting remote hardware detection for 192.168.0.15...
[2025-12-23 19:11:33] INFO     - seed.hardware_detector - [hardware_detector.py:667] - Detected OS: linux
[2025-12-23 19:11:33] INFO     - seed.hardware_detector - [hardware_detector.py:738] - Detecting Linux hardware...
[2025-12-23 19:11:33] WARNING  - seed.ssh_manager - [ssh_manager.py:412] - Command failed (exit 1): which nvidia-smi
[2025-12-23 19:11:33] WARNING  - seed.ssh_manager - [ssh_manager.py:412] - Command failed (exit 1): which rocm-smi
[2025-12-23 19:11:34] INFO     - seed.hardware_detector - [hardware_detector.py:866] - Remote Linux detection complete. Score: 7.19
[2025-12-23 19:11:34] INFO     - seed.role_assigner - [role_assigner.py:53] - Creating deployment plan for 4 device(s)
[2025-12-23 19:11:34] INFO     - seed.role_assigner - [role_assigner.py:121] - Creating multi-device plan for 4 devices
[2025-12-23 19:11:34] INFO     - seed.role_assigner - [role_assigner.py:172] - Assigning MASTER role to BigBOY (score: 58.17/100)
[2025-12-23 19:11:34] INFO     - seed.role_assigner - [role_assigner.py:202] - Assigning COMPUTE role to BigBOY (nvidia, 12.0GB VRAM)
[2025-12-23 19:11:34] WARNING  - seed.role_assigner - [role_assigner.py:261] - No devices with 500GB+ disk. Assigning STORAGE role to MASTER node.
[2025-12-23 19:11:34] INFO     - seed.role_assigner - [role_assigner.py:305] - Mapping services to nodes based on hardware capabilities...
[2025-12-23 19:11:34] INFO     - seed.role_assigner - [role_assigner.py:313] - Core services assigned to BigBOY: backend, postgresql
[2025-12-23 19:11:34] INFO     - seed.role_assigner - [role_assigner.py:325] - Ollama assigned to BigBOY (31.1GB RAM available)
[2025-12-23 19:11:34] INFO     - seed.role_assigner - [role_assigner.py:325] - Ollama assigned to tomsbot (15.3GB RAM available)
[2025-12-23 19:11:34] INFO     - seed.role_assigner - [role_assigner.py:325] - Ollama assigned to 2014 (15.5GB RAM available)
[2025-12-23 19:11:34] INFO     - seed.role_assigner - [role_assigner.py:333] - Ollama will run on 3 device(s) for load balancing
[2025-12-23 19:11:34] INFO     - seed.role_assigner - [role_assigner.py:343] - ComfyUI assigned to BigBOY (nvidia, 12.0GB VRAM)
[2025-12-23 19:11:34] INFO     - seed.role_assigner - [role_assigner.py:343] - ComfyUI assigned to tomsbot (nvidia, 4.0GB VRAM)
[2025-12-23 19:11:34] INFO     - seed.role_assigner - [role_assigner.py:351] - ComfyUI will run on 2 device(s) for parallel generation
[2025-12-23 19:11:34] INFO     - seed.role_assigner - [role_assigner.py:369] - Media processing assigned to BigBOY (16 CPU cores, nvidia GPU)
[2025-12-23 19:11:34] INFO     - seed.role_assigner - [role_assigner.py:369] - Media processing assigned to tomsbot (20 CPU cores, nvidia GPU)
[2025-12-23 19:11:34] INFO     - seed.role_assigner - [role_assigner.py:369] - Media processing assigned to 2014 (8 CPU cores)
[2025-12-23 19:11:34] INFO     - seed.role_assigner - [role_assigner.py:377] - Media processing will run on 3 device(s) for distributed encoding
[2025-12-23 19:11:34] INFO     - seed.role_assigner - [role_assigner.py:387] - Frontend assigned to lenovo (provides network access point)
[2025-12-23 19:11:34] INFO     - seed.role_assigner - [role_assigner.py:393] - Service distribution summary:
[2025-12-23 19:11:34] INFO     - seed.role_assigner - [role_assigner.py:396] -   BigBOY: 6 service(s) - noslop-backend, postgresql, ollama, comfyui, ffmpeg, opencv
[2025-12-23 19:11:34] INFO     - seed.role_assigner - [role_assigner.py:396] -   tomsbot: 4 service(s) - ollama, comfyui, ffmpeg, opencv
[2025-12-23 19:11:34] INFO     - seed.role_assigner - [role_assigner.py:396] -   2014: 3 service(s) - ollama, ffmpeg, opencv
[2025-12-23 19:11:34] INFO     - seed.role_assigner - [role_assigner.py:396] -   lenovo: 1 service(s) - noslop-frontend
[2025-12-23 19:11:34] INFO     - seed.role_assigner - [role_assigner.py:149] - Multi-device plan created with 4 nodes
[2025-12-23 19:11:41] INFO     - seed.ssh_manager - [ssh_manager.py:74] - SSH key pair already exists
[2025-12-23 19:11:41] INFO     - seed.ssh_manager - [ssh_manager.py:147] - Distributing SSH key to 192.168.0.22...
[2025-12-23 19:11:41] INFO     - seed.ssh_manager - [ssh_manager.py:192] - ‚úì SSH key distributed to 192.168.0.22
[2025-12-23 19:11:41] INFO     - seed.ssh_manager - [ssh_manager.py:147] - Distributing SSH key to 192.168.0.24...
[2025-12-23 19:11:42] INFO     - seed.ssh_manager - [ssh_manager.py:192] - ‚úì SSH key distributed to 192.168.0.24
[2025-12-23 19:11:42] INFO     - seed.ssh_manager - [ssh_manager.py:147] - Distributing SSH key to 192.168.0.30...
[2025-12-23 19:11:42] INFO     - seed.ssh_manager - [ssh_manager.py:192] - ‚úì SSH key distributed to 192.168.0.30
[2025-12-23 19:11:42] INFO     - seed.ssh_manager - [ssh_manager.py:147] - Distributing SSH key to 192.168.0.15...
[2025-12-23 19:11:43] INFO     - seed.ssh_manager - [ssh_manager.py:192] - ‚úì SSH key distributed to 192.168.0.15
[2025-12-23 19:11:43] INFO     - seed.deployer - [deployer.py:79] - Deployer initialized. Deployment ID: 20251223_191143
[2025-12-23 19:11:43] INFO     - seed.deployer - [deployer.py:80] - Deployment directory: /home/tom/.noslop/deployments/20251223_191143
[2025-12-23 19:11:44] INFO     - seed.deployer - [deployer.py:857] - ======================================================================
[2025-12-23 19:11:44] INFO     - seed.deployer - [deployer.py:858] - Starting NoSlop Deployment (ID: 20251223_191143)
[2025-12-23 19:11:44] INFO     - seed.deployer - [deployer.py:859] - ======================================================================
[2025-12-23 19:11:44] INFO     - seed.deployer - [deployer.py:107] - Validating deployment plan...
[2025-12-23 19:11:44] INFO     - seed.deployer - [deployer.py:123] - ‚úì Deployment plan is valid
[2025-12-23 19:11:44] INFO     - seed.deployer - [deployer.py:132] - Deployment plan saved to /home/tom/.noslop/deployments/20251223_191143/deployment_plan.json
[2025-12-23 19:11:44] INFO     - seed.deployer - [deployer.py:885] - 
üóÑÔ∏è  Configuring Shared Storage...
[2025-12-23 19:11:44] INFO     - seed.deployer - [deployer.py:891] - Using upfront storage configuration: /media/tom/fast/NoSlop
[2025-12-23 19:11:44] INFO     - seed.deployer - [deployer.py:138] - Stopping existing NoSlop services...
[2025-12-23 19:11:44] INFO     - seed.deployer - [deployer.py:150] - Stopping services on BigBOY...
[2025-12-23 19:11:45] INFO     - seed.deployer - [deployer.py:150] - Stopping services on tomsbot...
[2025-12-23 19:11:46] INFO     - seed.deployer - [deployer.py:150] - Stopping services on 2014...
[2025-12-23 19:11:46] INFO     - seed.deployer - [deployer.py:150] - Stopping services on lenovo...
[2025-12-23 19:11:47] INFO     - seed.storage_manager - [storage_manager.py:241] - Setting up NFS server on 192.168.0.22...
[2025-12-23 19:11:47] INFO     - seed.storage_manager - [storage_manager.py:249] - Setting up passwordless sudo for NFS operations...
[2025-12-23 19:11:47] INFO     - seed.storage_manager - [storage_manager.py:172] - Configuring passwordless sudo for NFS on 192.168.0.22...
[2025-12-23 19:11:47] INFO     - seed.storage_manager - [storage_manager.py:226] - ‚úì Passwordless sudo configured for NFS operations
[2025-12-23 19:11:47] INFO     - seed.storage_manager - [storage_manager.py:254] - Installing NFS server packages...
[2025-12-23 19:11:52] INFO     - seed.storage_manager - [storage_manager.py:280] - ‚úì NFS server packages installed
[2025-12-23 19:11:52] INFO     - seed.storage_manager - [storage_manager.py:283] - Preparing storage directories...
[2025-12-23 19:12:00] INFO     - seed.storage_manager - [storage_manager.py:316] - User confirmed using existing directory with data
[2025-12-23 19:12:00] INFO     - seed.storage_manager - [storage_manager.py:319] - Creating storage directories...
[2025-12-23 19:12:00] INFO     - seed.storage_manager - [storage_manager.py:342] - ‚úì All storage directories ready
[2025-12-23 19:12:00] INFO     - seed.storage_manager - [storage_manager.py:345] - Configuring NFS exports...
[2025-12-23 19:12:01] INFO     - seed.storage_manager - [storage_manager.py:412] - ‚úì NFS exports configured
[2025-12-23 19:12:01] INFO     - seed.storage_manager - [storage_manager.py:415] - Restarting NFS server...
[2025-12-23 19:12:01] INFO     - seed.storage_manager - [storage_manager.py:432] - ‚úì NFS server configured successfully
[2025-12-23 19:12:01] INFO     - seed.storage_manager - [storage_manager.py:449] - Mounting NFS shares on 192.168.0.30...
[2025-12-23 19:12:01] INFO     - seed.storage_manager - [storage_manager.py:457] - Setting up passwordless sudo for NFS operations...
[2025-12-23 19:12:01] INFO     - seed.storage_manager - [storage_manager.py:172] - Configuring passwordless sudo for NFS on 192.168.0.30...
[2025-12-23 19:12:01] INFO     - seed.storage_manager - [storage_manager.py:226] - ‚úì Passwordless sudo configured for NFS operations
[2025-12-23 19:12:01] INFO     - seed.storage_manager - [storage_manager.py:462] - Installing NFS client packages...
[2025-12-23 19:12:11] INFO     - seed.storage_manager - [storage_manager.py:489] - Checking for existing mounts at /media/tom/fast/NoSlop...
[2025-12-23 19:12:11] INFO     - seed.storage_manager - [storage_manager.py:500] - Found existing mount at /media/tom/fast/NoSlop, unmounting...
[2025-12-23 19:12:11] INFO     - seed.storage_manager - [storage_manager.py:530] - Removing empty directory /media/tom/fast/NoSlop
[2025-12-23 19:12:11] INFO     - seed.storage_manager - [storage_manager.py:539] - Ensuring mount point /media/tom/fast/NoSlop exists...
[2025-12-23 19:12:11] INFO     - seed.storage_manager - [storage_manager.py:552] - Mounting 192.168.0.22:/media/tom/fast/NoSlop...
[2025-12-23 19:12:12] INFO     - seed.storage_manager - [storage_manager.py:578] - Adding to /etc/fstab for automatic mounting...
[2025-12-23 19:12:12] INFO     - seed.storage_manager - [storage_manager.py:586] - ‚úì NFS shares mounted successfully
[2025-12-23 19:12:12] INFO     - seed.storage_manager - [storage_manager.py:602] - Verifying shared storage on 192.168.0.30...
[2025-12-23 19:12:54] WARNING  - seed.ssh_manager - [ssh_manager.py:412] - Command failed (exit 1): rm /media/tom/fast/NoSlop/test_192_168_0_30.txt
[2025-12-23 19:12:54] INFO     - seed.storage_manager - [storage_manager.py:653] - ‚úì Shared storage verified
[2025-12-23 19:12:54] INFO     - seed.storage_manager - [storage_manager.py:449] - Mounting NFS shares on 192.168.0.24...
[2025-12-23 19:12:54] INFO     - seed.storage_manager - [storage_manager.py:457] - Setting up passwordless sudo for NFS operations...
[2025-12-23 19:12:54] INFO     - seed.storage_manager - [storage_manager.py:172] - Configuring passwordless sudo for NFS on 192.168.0.24...
[2025-12-23 19:12:54] INFO     - seed.storage_manager - [storage_manager.py:226] - ‚úì Passwordless sudo configured for NFS operations
[2025-12-23 19:12:54] INFO     - seed.storage_manager - [storage_manager.py:462] - Installing NFS client packages...
[2025-12-23 19:12:58] INFO     - seed.storage_manager - [storage_manager.py:489] - Checking for existing mounts at /media/tom/fast/NoSlop...
[2025-12-23 19:12:59] INFO     - seed.storage_manager - [storage_manager.py:500] - Found existing mount at /media/tom/fast/NoSlop, unmounting...
[2025-12-23 19:12:59] INFO     - seed.storage_manager - [storage_manager.py:530] - Removing empty directory /media/tom/fast/NoSlop
[2025-12-23 19:12:59] INFO     - seed.storage_manager - [storage_manager.py:539] - Ensuring mount point /media/tom/fast/NoSlop exists...
[2025-12-23 19:12:59] INFO     - seed.storage_manager - [storage_manager.py:552] - Mounting 192.168.0.22:/media/tom/fast/NoSlop...
[2025-12-23 19:12:59] INFO     - seed.storage_manager - [storage_manager.py:578] - Adding to /etc/fstab for automatic mounting...
[2025-12-23 19:12:59] INFO     - seed.storage_manager - [storage_manager.py:586] - ‚úì NFS shares mounted successfully
[2025-12-23 19:12:59] INFO     - seed.storage_manager - [storage_manager.py:602] - Verifying shared storage on 192.168.0.24...
[2025-12-23 19:13:00] WARNING  - seed.ssh_manager - [ssh_manager.py:412] - Command failed (exit 1): rm /media/tom/fast/NoSlop/test_192_168_0_24.txt
[2025-12-23 19:13:00] INFO     - seed.storage_manager - [storage_manager.py:653] - ‚úì Shared storage verified
[2025-12-23 19:13:00] INFO     - seed.storage_manager - [storage_manager.py:449] - Mounting NFS shares on 192.168.0.15...
[2025-12-23 19:13:00] INFO     - seed.storage_manager - [storage_manager.py:457] - Setting up passwordless sudo for NFS operations...
[2025-12-23 19:13:00] INFO     - seed.storage_manager - [storage_manager.py:172] - Configuring passwordless sudo for NFS on 192.168.0.15...
[2025-12-23 19:13:01] INFO     - seed.storage_manager - [storage_manager.py:226] - ‚úì Passwordless sudo configured for NFS operations
[2025-12-23 19:13:01] INFO     - seed.storage_manager - [storage_manager.py:462] - Installing NFS client packages...
[2025-12-23 19:13:06] INFO     - seed.storage_manager - [storage_manager.py:489] - Checking for existing mounts at /media/tom/fast/NoSlop...
[2025-12-23 19:13:06] INFO     - seed.storage_manager - [storage_manager.py:500] - Found existing mount at /media/tom/fast/NoSlop, unmounting...
[2025-12-23 19:13:07] INFO     - seed.storage_manager - [storage_manager.py:530] - Removing empty directory /media/tom/fast/NoSlop
[2025-12-23 19:13:07] INFO     - seed.storage_manager - [storage_manager.py:539] - Ensuring mount point /media/tom/fast/NoSlop exists...
[2025-12-23 19:13:07] INFO     - seed.storage_manager - [storage_manager.py:552] - Mounting 192.168.0.22:/media/tom/fast/NoSlop...
[2025-12-23 19:13:07] INFO     - seed.storage_manager - [storage_manager.py:578] - Adding to /etc/fstab for automatic mounting...
[2025-12-23 19:13:08] INFO     - seed.storage_manager - [storage_manager.py:586] - ‚úì NFS shares mounted successfully
[2025-12-23 19:13:08] INFO     - seed.storage_manager - [storage_manager.py:602] - Verifying shared storage on 192.168.0.15...
[2025-12-23 19:13:08] WARNING  - seed.ssh_manager - [ssh_manager.py:412] - Command failed (exit 1): rm /media/tom/fast/NoSlop/test_192_168_0_15.txt
[2025-12-23 19:13:08] INFO     - seed.storage_manager - [storage_manager.py:653] - ‚úì Shared storage verified
[2025-12-23 19:13:08] INFO     - seed.deployer - [deployer.py:956] - Storage configuration saved to /home/tom/.noslop/deployments/20251223_191143/shared_storage.env
[2025-12-23 19:13:08] INFO     - seed.deployer - [deployer.py:961] - 
üìù Generating node configurations...
[2025-12-23 19:13:08] INFO     - seed.deployer - [deployer.py:377] - Environment file created: /home/tom/.noslop/deployments/20251223_191143/BigBOY.env
[2025-12-23 19:13:08] INFO     - seed.deployer - [deployer.py:377] - Environment file created: /home/tom/.noslop/deployments/20251223_191143/tomsbot.env
[2025-12-23 19:13:08] INFO     - seed.deployer - [deployer.py:377] - Environment file created: /home/tom/.noslop/deployments/20251223_191143/2014.env
[2025-12-23 19:13:08] INFO     - seed.deployer - [deployer.py:377] - Environment file created: /home/tom/.noslop/deployments/20251223_191143/lenovo.env
[2025-12-23 19:13:08] INFO     - seed.deployer - [deployer.py:393] - 
üõ†Ô∏è  Starting Service Installation...
[2025-12-23 19:13:08] INFO     - seed.deployer - [deployer.py:407] - DEBUG: install_services called with credentials for IPs: ['192.168.0.22', '192.168.0.24', '192.168.0.30', '192.168.0.15']
[2025-12-23 19:13:08] INFO     - seed.deployer - [deployer.py:440] - 
[Phase 1] Installing Base Dependencies...
[2025-12-23 19:13:08] INFO     - seed.deployer - [deployer.py:414] - DEBUG: Looking up credentials for 192.168.0.22
[2025-12-23 19:13:08] INFO     - seed.deployer - [deployer.py:426] - DEBUG: Found credentials for 192.168.0.22: User=tom, Password=****
[2025-12-23 19:13:08] INFO     - seed.installers.base_installer.ffmpeg - [base_installer.py:463] - Starting installation of ffmpeg on BigBOY
[2025-12-23 19:13:08] INFO     - seed.installers.base_installer.ffmpeg - [base_installer.py:466] - ffmpeg is already installed.
[2025-12-23 19:13:08] INFO     - seed.installers.base_installer.ffmpeg - [ffmpeg_installer.py:52] - Verifying FFmpeg...
[2025-12-23 19:13:08] INFO     - seed.installers.base_installer.ffmpeg - [ffmpeg_installer.py:59] - ‚úì FFmpeg installed: ffmpeg version 6.1.1-3ubuntu5 Copyright (c) 2000-2023 the FFmpeg developers
[2025-12-23 19:13:08] INFO     - seed.deployer - [deployer.py:450] - 
[Phase 2] Installing Core Infrastructure...
[2025-12-23 19:13:08] INFO     - seed.deployer - [deployer.py:414] - DEBUG: Looking up credentials for 192.168.0.22
[2025-12-23 19:13:08] INFO     - seed.deployer - [deployer.py:426] - DEBUG: Found credentials for 192.168.0.22: User=tom, Password=****
[2025-12-23 19:13:08] INFO     - seed.installers.base_installer.postgresql - [base_installer.py:463] - Starting installation of postgresql on BigBOY
[2025-12-23 19:13:08] INFO     - seed.installers.base_installer.postgresql - [base_installer.py:466] - postgresql is already installed.
[2025-12-23 19:13:08] INFO     - seed.installers.base_installer.postgresql - [postgresql_installer.py:61] - Configuring PostgreSQL...
[2025-12-23 19:13:08] INFO     - seed.installers.base_installer.postgresql - [postgresql_installer.py:100] - Starting PostgreSQL...
[2025-12-23 19:13:14] INFO     - seed.installers.base_installer.postgresql - [postgresql_installer.py:100] - Starting PostgreSQL...
[2025-12-23 19:13:15] INFO     - seed.installers.base_installer.postgresql - [postgresql_installer.py:113] - Verifying PostgreSQL...
[2025-12-23 19:13:15] INFO     - seed.installers.base_installer.postgresql - [postgresql_installer.py:121] - ‚úì PostgreSQL verification successful
[2025-12-23 19:13:15] INFO     - seed.service_registry - [service_registry.py:105] - Registered postgresql instance: http://192.168.0.22:5432 (ID: postgresql_192.168.0.22)
[2025-12-23 19:13:15] INFO     - seed.deployer - [deployer.py:469] - 
[Phase 3] Installing AI Services...
[2025-12-23 19:13:15] INFO     - seed.deployer - [deployer.py:474] - Starting installation of ollama on BigBOY
[2025-12-23 19:13:15] INFO     - seed.deployer - [deployer.py:414] - DEBUG: Looking up credentials for 192.168.0.22
[2025-12-23 19:13:15] INFO     - seed.deployer - [deployer.py:426] - DEBUG: Found credentials for 192.168.0.22: User=tom, Password=****
[2025-12-23 19:13:15] INFO     - seed.installers.base_installer.ollama - [base_installer.py:463] - Starting installation of ollama on BigBOY
[2025-12-23 19:13:15] INFO     - seed.installers.base_installer.ollama - [ollama_installer.py:106] - Installing Ollama (Port 11434)...
[2025-12-23 19:13:15] INFO     - seed.installers.base_installer.ollama - [ollama_installer.py:124] - Found existing Ollama: Warning: could not connect to a running Ollama instance
Warning: client version is 0.13.0
[2025-12-23 19:13:15] INFO     - seed.installers.base_installer.ollama - [ollama_installer.py:140] - ‚úì Existing Ollama version is sufficient
[2025-12-23 19:13:15] INFO     - seed.installers.base_installer.ollama - [ollama_installer.py:367] - Configuring Ollama on port 11434...
[2025-12-23 19:13:15] INFO     - seed.installers.base_installer.ollama - [ollama_installer.py:229] - Found existing models in: /home/tom/.ollama/models
[2025-12-23 19:13:15] INFO     - seed.installers.base_installer.ollama - [ollama_installer.py:253] - Existing models directory is too small (1 MB), ignoring.
[2025-12-23 19:13:15] INFO     - seed.installers.base_installer.ollama - [ollama_installer.py:376] - Increasing system-wide file limits...
[2025-12-23 19:13:15] INFO     - seed.installers.base_installer.ollama - [ollama_installer.py:428] - Using shared models directory: /media/tom/fast/NoSlop/ollama/models
[2025-12-23 19:13:15] INFO     - seed.installers.base_installer.ollama - [ollama_installer.py:475] - Starting Ollama on port 11434...
[2025-12-23 19:13:19] INFO     - seed.installers.base_installer.ollama - [ollama_installer.py:497] - Verifying Ollama on port 11434...
[2025-12-23 19:13:19] INFO     - seed.installers.base_installer.ollama - [ollama_installer.py:519] - ‚úì Ollama API is accessible
[2025-12-23 19:13:19] INFO     - seed.installers.base_installer.ollama - [ollama_installer.py:543] - Pulling model gemma3:4b-it-q4_K_M...
[2025-12-23 19:13:20] INFO     - seed.installers.base_installer.ollama - [ollama_installer.py:598] - ‚úì Model gemma3:4b-it-q4_K_M pulled successfully
[2025-12-23 19:13:20] INFO     - seed.installers.base_installer.ollama - [ollama_installer.py:543] - Pulling model qwen3-vl:4b-instruct-q8_0...
[2025-12-23 19:13:21] INFO     - seed.installers.base_installer.ollama - [ollama_installer.py:598] - ‚úì Model qwen3-vl:4b-instruct-q8_0 pulled successfully
[2025-12-23 19:13:21] INFO     - seed.installers.base_installer.ollama - [ollama_installer.py:543] - Pulling model llava:latest...
[2025-12-23 19:13:22] INFO     - seed.installers.base_installer.ollama - [ollama_installer.py:598] - ‚úì Model llava:latest pulled successfully
[2025-12-23 19:13:22] INFO     - seed.installers.base_installer.ollama - [ollama_installer.py:543] - Pulling model qwen2.5-coder:7b...
[2025-12-23 19:13:23] INFO     - seed.installers.base_installer.ollama - [ollama_installer.py:598] - ‚úì Model qwen2.5-coder:7b pulled successfully
[2025-12-23 19:13:23] INFO     - seed.installers.base_installer.ollama - [ollama_installer.py:543] - Pulling model nomic-embed-text...
[2025-12-23 19:13:24] INFO     - seed.installers.base_installer.ollama - [ollama_installer.py:598] - ‚úì Model nomic-embed-text pulled successfully
[2025-12-23 19:13:24] INFO     - seed.installers.base_installer.ollama - [ollama_installer.py:543] - Pulling model llama3.2...
[2025-12-23 19:13:25] INFO     - seed.installers.base_installer.ollama - [ollama_installer.py:598] - ‚úì Model llama3.2 pulled successfully
[2025-12-23 19:13:25] INFO     - seed.installers.base_installer.ollama - [base_installer.py:490] - Successfully installed and started ollama
[2025-12-23 19:13:25] INFO     - seed.service_registry - [service_registry.py:105] - Registered ollama instance: http://192.168.0.22:11434 (ID: ollama_192.168.0.22_11434)
[2025-12-23 19:13:25] INFO     - seed.deployer - [deployer.py:474] - Starting installation of ollama on tomsbot
[2025-12-23 19:13:25] INFO     - seed.deployer - [deployer.py:414] - DEBUG: Looking up credentials for 192.168.0.30
[2025-12-23 19:13:25] INFO     - seed.deployer - [deployer.py:426] - DEBUG: Found credentials for 192.168.0.30: User=tomanderson, Password=****
[2025-12-23 19:13:25] INFO     - seed.installers.base_installer.ollama - [base_installer.py:463] - Starting installation of ollama on tomsbot
[2025-12-23 19:13:26] WARNING  - seed.ssh_manager - [ssh_manager.py:412] - Command failed (exit 1): netstat -tuln | grep :11434
[2025-12-23 19:13:26] INFO     - seed.installers.base_installer.ollama - [ollama_installer.py:106] - Installing Ollama (Port 11434)...
[2025-12-23 19:13:26] WARNING  - seed.ssh_manager - [ssh_manager.py:412] - Command failed (exit 1): netstat -tuln | grep :11434
[2025-12-23 19:13:26] INFO     - seed.installers.base_installer.ollama - [ollama_installer.py:124] - Found existing Ollama: Warning: could not connect to a running Ollama instance
Warning: client version is 0.13.3
[2025-12-23 19:13:26] INFO     - seed.installers.base_installer.ollama - [ollama_installer.py:140] - ‚úì Existing Ollama version is sufficient
[2025-12-23 19:13:26] INFO     - seed.installers.base_installer.ollama - [ollama_installer.py:367] - Configuring Ollama on port 11434...
[2025-12-23 19:13:26] WARNING  - seed.ssh_manager - [ssh_manager.py:412] - Command failed (exit 1): ps aux | grep 'ollama serve' | grep -v grep
[2025-12-23 19:13:26] WARNING  - seed.ssh_manager - [ssh_manager.py:412] - Command failed (exit 1): printenv OLLAMA_MODELS
[2025-12-23 19:13:26] INFO     - seed.installers.base_installer.ollama - [ollama_installer.py:229] - Found existing models in: /home/tomanderson/.ollama/models
[2025-12-23 19:13:26] INFO     - seed.installers.base_installer.ollama - [ollama_installer.py:253] - Existing models directory is too small (0 MB), ignoring.
[2025-12-23 19:13:26] INFO     - seed.installers.base_installer.ollama - [ollama_installer.py:376] - Increasing system-wide file limits...
[2025-12-23 19:13:27] INFO     - seed.installers.base_installer.ollama - [ollama_installer.py:428] - Using shared models directory: /media/tom/fast/NoSlop/ollama/models
[2025-12-23 19:13:27] INFO     - seed.ssh_manager - [ssh_manager.py:531] - Transferring /tmp/tmp51lcwq4i to /tmp/ollama.service...
[2025-12-23 19:13:27] INFO     - seed.ssh_manager - [ssh_manager.py:537] - ‚úì File transferred successfully
[2025-12-23 19:13:27] INFO     - seed.installers.base_installer.ollama - [ollama_installer.py:475] - Starting Ollama on port 11434...
[2025-12-23 19:13:27] WARNING  - seed.ssh_manager - [ssh_manager.py:412] - Command failed (exit 1): netstat -tuln | grep :11434
[2025-12-23 19:13:31] INFO     - seed.installers.base_installer.ollama - [ollama_installer.py:497] - Verifying Ollama on port 11434...
[2025-12-23 19:13:31] INFO     - seed.installers.base_installer.ollama - [ollama_installer.py:519] - ‚úì Ollama API is accessible
[2025-12-23 19:13:31] INFO     - seed.installers.base_installer.ollama - [ollama_installer.py:543] - Pulling model gemma3:4b-it-q4_K_M...
[2025-12-23 19:13:32] INFO     - seed.installers.base_installer.ollama - [ollama_installer.py:598] - ‚úì Model gemma3:4b-it-q4_K_M pulled successfully
[2025-12-23 19:13:32] INFO     - seed.installers.base_installer.ollama - [ollama_installer.py:543] - Pulling model qwen3-vl:4b-instruct-q8_0...
[2025-12-23 19:13:33] INFO     - seed.installers.base_installer.ollama - [ollama_installer.py:598] - ‚úì Model qwen3-vl:4b-instruct-q8_0 pulled successfully
[2025-12-23 19:13:33] INFO     - seed.installers.base_installer.ollama - [ollama_installer.py:543] - Pulling model llava:latest...
[2025-12-23 19:13:34] INFO     - seed.installers.base_installer.ollama - [ollama_installer.py:598] - ‚úì Model llava:latest pulled successfully
[2025-12-23 19:13:34] INFO     - seed.installers.base_installer.ollama - [ollama_installer.py:543] - Pulling model qwen2.5-coder:7b...
[2025-12-23 19:13:36] INFO     - seed.installers.base_installer.ollama - [ollama_installer.py:598] - ‚úì Model qwen2.5-coder:7b pulled successfully
[2025-12-23 19:13:36] INFO     - seed.installers.base_installer.ollama - [ollama_installer.py:543] - Pulling model nomic-embed-text...
[2025-12-23 19:13:37] INFO     - seed.installers.base_installer.ollama - [ollama_installer.py:598] - ‚úì Model nomic-embed-text pulled successfully
[2025-12-23 19:13:37] INFO     - seed.installers.base_installer.ollama - [ollama_installer.py:543] - Pulling model llama3.2...
[2025-12-23 19:13:38] INFO     - seed.installers.base_installer.ollama - [ollama_installer.py:598] - ‚úì Model llama3.2 pulled successfully
[2025-12-23 19:13:38] INFO     - seed.installers.base_installer.ollama - [base_installer.py:490] - Successfully installed and started ollama
[2025-12-23 19:13:38] INFO     - seed.service_registry - [service_registry.py:105] - Registered ollama instance: http://192.168.0.30:11434 (ID: ollama_192.168.0.30_11434)
[2025-12-23 19:13:38] INFO     - seed.deployer - [deployer.py:474] - Starting installation of ollama on 2014
[2025-12-23 19:13:38] INFO     - seed.deployer - [deployer.py:414] - DEBUG: Looking up credentials for 192.168.0.24
[2025-12-23 19:13:38] INFO     - seed.deployer - [deployer.py:426] - DEBUG: Found credentials for 192.168.0.24: User=tom, Password=****
[2025-12-23 19:13:38] INFO     - seed.installers.base_installer.ollama - [base_installer.py:463] - Starting installation of ollama on 2014
[2025-12-23 19:13:38] WARNING  - seed.ssh_manager - [ssh_manager.py:412] - Command failed (exit 1): netstat -tuln | grep :11434
[2025-12-23 19:13:38] INFO     - seed.installers.base_installer.ollama - [ollama_installer.py:106] - Installing Ollama (Port 11434)...
[2025-12-23 19:13:38] WARNING  - seed.ssh_manager - [ssh_manager.py:412] - Command failed (exit 1): netstat -tuln | grep :11434
[2025-12-23 19:13:38] INFO     - seed.installers.base_installer.ollama - [ollama_installer.py:124] - Found existing Ollama: Warning: could not connect to a running Ollama instance
Warning: client version is 0.13.3
[2025-12-23 19:13:38] INFO     - seed.installers.base_installer.ollama - [ollama_installer.py:140] - ‚úì Existing Ollama version is sufficient
[2025-12-23 19:13:38] INFO     - seed.installers.base_installer.ollama - [ollama_installer.py:367] - Configuring Ollama on port 11434...
[2025-12-23 19:13:38] WARNING  - seed.ssh_manager - [ssh_manager.py:412] - Command failed (exit 1): ps aux | grep 'ollama serve' | grep -v grep
[2025-12-23 19:13:39] WARNING  - seed.ssh_manager - [ssh_manager.py:412] - Command failed (exit 1): printenv OLLAMA_MODELS
[2025-12-23 19:13:39] WARNING  - seed.ssh_manager - [ssh_manager.py:412] - Command failed (exit 1): test -d /home/tom/.ollama/models && echo 'exists'
[2025-12-23 19:13:39] INFO     - seed.installers.base_installer.ollama - [ollama_installer.py:229] - Found existing models in: /usr/share/ollama/.ollama/models
[2025-12-23 19:20:04] INFO     - seed.installers.base_installer.ollama - [ollama_installer.py:324] - User chose not to migrate models
[2025-12-23 19:20:04] INFO     - seed.installers.base_installer.ollama - [ollama_installer.py:331] - Shared directory has existing models, will use them
[2025-12-23 19:20:04] INFO     - seed.installers.base_installer.ollama - [ollama_installer.py:376] - Increasing system-wide file limits...
[2025-12-23 19:20:05] INFO     - seed.installers.base_installer.ollama - [ollama_installer.py:428] - Using shared models directory: /media/tom/fast/NoSlop/ollama/models
[2025-12-23 19:20:05] INFO     - seed.ssh_manager - [ssh_manager.py:531] - Transferring /tmp/tmp3uaj_zno to /tmp/ollama.service...
[2025-12-23 19:20:05] INFO     - seed.ssh_manager - [ssh_manager.py:537] - ‚úì File transferred successfully
[2025-12-23 19:20:06] INFO     - seed.installers.base_installer.ollama - [ollama_installer.py:475] - Starting Ollama on port 11434...
[2025-12-23 19:20:06] WARNING  - seed.ssh_manager - [ssh_manager.py:412] - Command failed (exit 1): netstat -tuln | grep :11434
[2025-12-23 19:20:10] INFO     - seed.installers.base_installer.ollama - [ollama_installer.py:497] - Verifying Ollama on port 11434...
[2025-12-23 19:20:10] INFO     - seed.installers.base_installer.ollama - [ollama_installer.py:519] - ‚úì Ollama API is accessible
[2025-12-23 19:20:10] INFO     - seed.installers.base_installer.ollama - [ollama_installer.py:543] - Pulling model gemma3:4b-it-q4_K_M...
[2025-12-23 19:20:12] INFO     - seed.installers.base_installer.ollama - [ollama_installer.py:598] - ‚úì Model gemma3:4b-it-q4_K_M pulled successfully
[2025-12-23 19:20:12] INFO     - seed.installers.base_installer.ollama - [ollama_installer.py:543] - Pulling model qwen3-vl:4b-instruct-q8_0...
[2025-12-23 19:20:13] INFO     - seed.installers.base_installer.ollama - [ollama_installer.py:598] - ‚úì Model qwen3-vl:4b-instruct-q8_0 pulled successfully
[2025-12-23 19:20:13] INFO     - seed.installers.base_installer.ollama - [ollama_installer.py:543] - Pulling model llava:latest...
[2025-12-23 19:20:14] INFO     - seed.installers.base_installer.ollama - [ollama_installer.py:598] - ‚úì Model llava:latest pulled successfully
[2025-12-23 19:20:14] INFO     - seed.installers.base_installer.ollama - [ollama_installer.py:543] - Pulling model qwen2.5-coder:7b...
[2025-12-23 19:20:15] INFO     - seed.installers.base_installer.ollama - [ollama_installer.py:598] - ‚úì Model qwen2.5-coder:7b pulled successfully
[2025-12-23 19:20:15] INFO     - seed.installers.base_installer.ollama - [ollama_installer.py:543] - Pulling model nomic-embed-text...
[2025-12-23 19:20:17] INFO     - seed.installers.base_installer.ollama - [ollama_installer.py:598] - ‚úì Model nomic-embed-text pulled successfully
[2025-12-23 19:20:17] INFO     - seed.installers.base_installer.ollama - [ollama_installer.py:543] - Pulling model llama3.2...
[2025-12-23 19:20:18] INFO     - seed.installers.base_installer.ollama - [ollama_installer.py:598] - ‚úì Model llama3.2 pulled successfully
[2025-12-23 19:20:18] INFO     - seed.installers.base_installer.ollama - [base_installer.py:490] - Successfully installed and started ollama
[2025-12-23 19:20:18] INFO     - seed.service_registry - [service_registry.py:105] - Registered ollama instance: http://192.168.0.24:11434 (ID: ollama_192.168.0.24_11434)
[2025-12-23 19:20:18] INFO     - seed.deployer - [deployer.py:520] - Starting installation of comfyui on BigBOY
[2025-12-23 19:20:18] INFO     - seed.deployer - [deployer.py:414] - DEBUG: Looking up credentials for 192.168.0.22
[2025-12-23 19:20:18] INFO     - seed.deployer - [deployer.py:426] - DEBUG: Found credentials for 192.168.0.22: User=tom, Password=****
[2025-12-23 19:20:18] INFO     - seed.installers.base_installer.comfyui - [base_installer.py:463] - Starting installation of comfyui on BigBOY
[2025-12-23 19:20:18] INFO     - seed.installers.base_installer.comfyui - [comfyui_installer.py:49] - Installing ComfyUI to /opt/ComfyUI...
[2025-12-23 19:20:18] INFO     - seed.installers.base_installer.comfyui - [comfyui_installer.py:55] - ‚úì Found existing ComfyUI installation at /opt/ComfyUI, skipping install.
[2025-12-23 19:20:18] INFO     - seed.installers.base_installer.comfyui - [comfyui_installer.py:137] - Configuring ComfyUI on port 8188...
[2025-12-23 19:20:18] INFO     - seed.installers.base_installer.comfyui - [comfyui_installer.py:141] - Setting up shared storage...
[2025-12-23 19:20:18] INFO     - seed.installers.base_installer.comfyui - [comfyui_installer.py:144] - Linking models directory to /media/tom/fast/NoSlop/comfyui/models
[2025-12-23 19:20:18] INFO     - seed.installers.base_installer.comfyui - [comfyui_installer.py:204] - ‚úì Models directory linked to shared storage
[2025-12-23 19:20:18] INFO     - seed.installers.base_installer.comfyui - [comfyui_installer.py:207] - Linking custom_nodes directory to /media/tom/fast/NoSlop/comfyui/custom_nodes
[2025-12-23 19:20:18] INFO     - seed.installers.base_installer.comfyui - [comfyui_installer.py:256] - ‚úì Custom nodes directory linked to shared storage
[2025-12-23 19:20:18] INFO     - seed.installers.base_installer.comfyui - [comfyui_installer.py:259] - Setting up shared workflows directory: /media/tom/fast/NoSlop/comfyui/workflows
[2025-12-23 19:20:18] INFO     - seed.installers.base_installer.comfyui - [comfyui_installer.py:269] - ‚úì Workflows directory already populated at /media/tom/fast/NoSlop/comfyui/workflows
[2025-12-23 19:20:18] INFO     - seed.installers.base_installer.comfyui - [comfyui_installer.py:437] - Scanning workflows in /media/tom/fast/NoSlop/comfyui/workflows for required models...
[2025-12-23 19:20:18] INFO     - seed.installers.base_installer.comfyui - [comfyui_installer.py:447] - Found 2 workflow files to scan
[2025-12-23 19:20:18] INFO     - seed.installers.base_installer.comfyui - [comfyui_installer.py:534] - No model references found in workflows
[2025-12-23 19:20:18] INFO     - seed.installers.base_installer.comfyui - [comfyui_installer.py:570] - All required models are present.
[2025-12-23 19:20:18] ERROR    - seed.installers.base_installer.comfyui - [comfyui_installer.py:381] - Error configuring ComfyUI service: cannot access local variable 'os' where it is not associated with a value
Traceback (most recent call last):
  File "/home/tom/NoSlop/seed/installers/comfyui_installer.py", line 311, in configure
    if not os.path.exists(template_path):
           ^^
UnboundLocalError: cannot access local variable 'os' where it is not associated with a value
[2025-12-23 19:20:18] ERROR    - seed.installers.base_installer.comfyui - [base_installer.py:478] - Configuration of comfyui failed.
[2025-12-23 19:20:19] ERROR    - seed.deployer - [deployer.py:556] - Failed to install ComfyUI on BigBOY
[2025-12-23 19:20:19] ERROR    - seed.deployer - [deployer.py:970] - 
‚ùå Service installation failed!
[2025-12-23 19:20:19] INFO     - __main__ - [seed_cli.py:836] - Installer failed
